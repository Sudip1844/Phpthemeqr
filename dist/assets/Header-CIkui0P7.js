import{r as d,ag as M,u as q,j as e,a9 as h,X as P,ah as D,ai as S,aQ as N,ac as b,aT as k}from"./vendor-frLpnPvb.js";const L=({stickyHeaderEnabled:x=!1,showNavigation:F=!1,pageType:a,scannerSectionRef:p,featuresRef:C,howToUseRef:G,benefitsRef:Q})=>{const[s,o]=d.useState(!1),n=M(),E=q(),c=d.useRef(null),r=d.useRef(null),m=E.pathname==="/scanner",u=t=>{o(!1),setTimeout(()=>{t&&t.current&&t.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},y=a==="scanner"||m?[{label:"Scanner",action:()=>u(p)},{label:"Features",action:()=>u(C)},{label:"How to Use",action:()=>u(G)},{label:"Why Choose My Qrcode Tool",action:()=>u(Q)}]:[];return d.useEffect(()=>{const t=i=>{c.current&&!c.current.contains(i.target)&&o(!1)};return s&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[s]),d.useEffect(()=>{if(!s||!c.current)return;const t=c.current.querySelector('[role="menu"]');if(!t)return;const i=t.querySelector('[role="menuitem"]');i&&setTimeout(()=>i.focus(),0);const f=l=>{var w;if(l.key==="Escape"){l.preventDefault(),o(!1),(w=r.current)==null||w.focus();return}if(l.key==="Tab"){const g=Array.from(t.querySelectorAll('[role="menuitem"]:not([disabled])'));if(g.length===0)return;const v=g[0],j=g[g.length-1];l.shiftKey?document.activeElement===v&&(l.preventDefault(),j.focus()):document.activeElement===j&&(l.preventDefault(),v.focus())}};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[s]),e.jsx("header",{role:"banner",className:`py-4 dynamic-header-bg z-20 transition-all duration-500 ease-in-out ${x?"sticky top-0":"relative"} ${x?"shadow-xl backdrop-blur-md bg-opacity-95":"shadow-sm"}`,children:e.jsx("div",{className:"w-full px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>n("/"),"aria-label":"Go to homepage",className:"text-2xl font-bold flex items-center gap-2 cursor-pointer",children:[e.jsx("div",{className:m?"text-purple-500":"text-emerald-500",children:e.jsx(h,{className:"h-7 w-7"})}),e.jsx("span",{className:"text-foreground",children:"My Qrcode Tool"})]}),e.jsx("nav",{role:"navigation","aria-label":"Main navigation",className:"flex items-center gap-3",children:e.jsxs("div",{className:"relative",ref:c,children:[e.jsx("button",{ref:r,className:"block md:hidden focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-md",onClick:()=>o(!s),"aria-label":s?"Close mobile menu":"Open mobile menu","aria-expanded":s,"aria-controls":"mobile-menu","data-testid":"button-mobile-menu",children:s?e.jsx(P,{className:"w-6 h-6","aria-hidden":"true"}):e.jsx(D,{className:"w-6 h-6","aria-hidden":"true"})}),s&&e.jsx("div",{id:"mobile-menu",role:"menu","aria-label":"Mobile navigation menu",className:"absolute right-0 top-full mt-2 w-64 bg-card text-card-foreground rounded-lg shadow-lg border border-border z-50",children:e.jsxs("div",{className:"py-2",children:[y.length>0&&y.map((t,i)=>e.jsx("button",{role:"menuitem",onClick:()=>{var f;t.action(),o(!1),(f=r.current)==null||f.focus()},"aria-label":`Navigate to ${t.label}`,className:"block w-full text-left px-4 py-3 text-card-foreground hover:bg-accent hover:text-accent-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-inset",children:t.label},i)),e.jsxs("div",{className:"px-4 pb-2 pt-2 space-y-2",role:"group","aria-label":"Quick actions",children:[(a==="privacy"||a==="faq"||a==="download"||!a)&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to QR Generator",className:"w-full bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-qr-generator",children:[e.jsx(h,{className:"h-4 w-4","aria-hidden":"true"}),"QR Generator"]}),e.jsxs("button",{role:"menuitem",onClick:()=>{var t;m?u(p):n("/scanner"),o(!1),(t=r.current)==null||t.focus()},"aria-label":m?"Scroll to scanner section":"Go to QR Scanner",className:"w-full bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-qr-scanner",children:[e.jsx(S,{className:"h-4 w-4","aria-hidden":"true"}),"QR Scanner"]})]}),a==="privacy"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/faq"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to FAQ",className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-faq",children:[e.jsx(N,{className:"h-4 w-4","aria-hidden":"true"}),"FAQ"]}),e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/download"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to Download Page",className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-download",children:[e.jsx(b,{className:"h-4 w-4","aria-hidden":"true"}),"Download App"]})]}),a==="faq"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/privacy"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to Privacy Policy",className:"w-full bg-gradient-to-r from-slate-500 to-gray-500 hover:from-slate-600 hover:to-gray-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-privacy",children:[e.jsx(k,{className:"h-4 w-4","aria-hidden":"true"}),"Privacy Policy"]}),e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/download"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to Download Page",className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-download",children:[e.jsx(b,{className:"h-4 w-4","aria-hidden":"true"}),"Download App"]})]}),a==="download"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/privacy"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to Privacy Policy",className:"w-full bg-gradient-to-r from-slate-500 to-gray-500 hover:from-slate-600 hover:to-gray-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-privacy",children:[e.jsx(k,{className:"h-4 w-4","aria-hidden":"true"}),"Privacy Policy"]}),e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/faq"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to FAQ",className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-faq",children:[e.jsx(N,{className:"h-4 w-4","aria-hidden":"true"}),"FAQ"]})]}),a==="scanner"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to QR Generator",className:"w-full bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-qr-generator",children:[e.jsx(h,{className:"h-4 w-4","aria-hidden":"true"}),"QR Generator"]}),e.jsxs("button",{role:"menuitem",onClick:()=>{var t;n("/download"),o(!1),(t=r.current)==null||t.focus()},"aria-label":"Go to Download Page",className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","data-testid":"button-mobile-download",children:[e.jsx(b,{className:"h-4 w-4","aria-hidden":"true"}),"Download App"]})]})]})]})})]})})]})})})};export{L as H};
